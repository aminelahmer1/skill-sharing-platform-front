<div class="profile-dialog-container">
    <mat-card class="profile-card mat-elevation-z4">
      <mat-card-header class="profile-header">
        <div mat-card-avatar class="profile-avatar">
          <img
            [src]="data.pictureUrl || 'assets/images/default-profile.png'"
            alt="Photo de profil"
            class="avatar-image"
          />
        </div>
        <div class="profile-title">
          <mat-card-title>{{ data.firstName }} {{ data.lastName }}</mat-card-title>
          <mat-card-subtitle>{{ data.email }}</mat-card-subtitle>
        </div>
      </mat-card-header>
  
      <mat-card-content class="profile-content">
        <div class="profile-details">
          <div class="detail-row">
            <mat-icon class="detail-icon">person</mat-icon>
            <span class="detail-text">Nom d'utilisateur : {{ data.username }}</span>
          </div>
          <div class="detail-row" *ngIf="data.phoneNumber">
            <mat-icon class="detail-icon">phone</mat-icon>
            <span class="detail-text">Téléphone : {{ data.phoneNumber }}</span>
          </div>
          <div class="detail-row" *ngIf="data.bio">
            <mat-icon class="detail-icon">info</mat-icon>
            <span class="detail-text">Bio : {{ data.bio }}</span>
          </div>
          <div class="detail-row" *ngIf="data.address?.city || data.address?.country">
            <mat-icon class="detail-icon">location_on</mat-icon>
            <span class="detail-text">
              Adresse : {{ data.address?.city }}, {{ data.address?.postalCode }}, {{ data.address?.country }}
            </span>
          </div>
          <div class="detail-row">
            <mat-icon class="detail-icon">calendar_today</mat-icon>
            <span class="detail-text">Membre depuis : {{ data.createdAt | date:'mediumDate' }}</span>
          </div>
        </div>
  
        <div *ngIf="data.address" class="map-container">
          <h3>Localisation</h3>
          <div #map class="map"></div>
        </div>
      </mat-card-content>
  
      <mat-card-actions class="profile-actions">
        <button mat-raised-button color="primary" (click)="closeDialog()">
          <mat-icon>close</mat-icon>
          Fermer
        </button>
      </mat-card-actions>
    </mat-card>
  </div>